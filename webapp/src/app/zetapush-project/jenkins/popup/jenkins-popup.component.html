<div class="popup" *ngIf="data">
	<h1 class="title" mat-dialog-title > New build !! </h1>
	<h2>
		<p> {{data.project}} </p>
		<a href="{{data.branch.url}}">
			{{data.branch.name}}
		</a>
	</h2>
	<div mat-dialog-content>
		<p> {{data.branch.time.start}}</p>
		<a href="{{data.branch.url}}">
			<img src="{{data.branch.icon}}" alt="wtf bah l'image est plus sur le repo" />
		</a>

		<ul>
			<li *ngFor="let flow of data.branch.flow">
				<mat-icon style="color: green" *ngIf="flow.result === 'SUCCESS'"> check_circle_outline </mat-icon>
				<mat-icon color="warn" *ngIf="flow.result !== 'SUCCESS' && flow.result !== 'UNKNOWN'"> cancel </mat-icon>
				<mat-icon color="primary" *ngIf="flow.state === 'RUNNING'"> refresh </mat-icon>
				{{flow.name}} {{flow.duration}}ms
				<ul *ngIf="flow.child && flow.child.length">
					<li *ngFor="let subflow of flow.child">
						<mat-icon style="color: green" *ngIf="subflow.result === 'SUCCESS'"> check_circle_outline </mat-icon>
						<mat-icon color="warn" *ngIf="subflow.result !== 'SUCCESS' && subflow.result !== 'UNKNOWN'"> cancel </mat-icon>
						<mat-icon color="primary" *ngIf="subflow.state === 'RUNNING'"> refresh </mat-icon>
						{{subflow.name}} {{subflow.duration}}ms
						<ul *ngIf="subflow.child && subflow.child.length">
							<li *ngFor="let subsubflow of subflow.child">
								<mat-icon style="color: green" *ngIf="subsubflow.result === 'SUCCESS'"> check_circle_outline </mat-icon>
								<mat-icon color="warn" *ngIf="subsubflow.result !== 'SUCCESS' && subsubflow.result !== 'UNKNOWN'"> cancel </mat-icon>
								<mat-icon color="primary" *ngIf="subsubflow.state === 'RUNNING'"> refresh </mat-icon>
								{{subsubflow.name}} {{subsubflow.duration}}ms
							</li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>

	</div>

	<div mat-dialog-actions>
		<button mat-button (click)="closeDialog()"> OK </button>
	</div>
</div>